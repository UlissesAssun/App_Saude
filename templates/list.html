<!DOCTYPE html>
<!--
    PÃ¡gina de listagem de pacientes
    - Renderiza tabela com dados vindos do backend (Jinja2)
    - AÃ§Ã£o "Ver" usa JS para redirecionar Ã  pÃ¡gina de visualizaÃ§Ã£o com o ID
-->
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listar Pacientes</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/table.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/list.css') }}">
    <script src="{{ url_for('static', filename='js/api.js') }}"></script>
</head>
<body>
    <!-- Navbar: navegaÃ§Ã£o principal -->
    <nav>
        <ul>
            <li><a href="{{ url_for('home') }}">ğŸ  InÃ­cio</a></li>
            <li><a href="{{ url_for('cadastrar') }}">ğŸ“ Cadastrar Paciente</a></li>
            <li><a href="{{ url_for('listar') }}">ğŸ“‹ Listar Pacientes</a></li>
            <li><a href="{{ url_for('visualizar') }}">ğŸ‘ï¸ Visualizar Paciente</a></li>
            <li><a href="{{ url_for('deletar') }}">ğŸ—‘ï¸ Deletar Paciente</a></li>
            <li><a href="{{ url_for('atualizar') }}">âœï¸ Atualizar Paciente</a></li>
        </ul>
    </nav>

    <!-- Container principal com uma tabela de pacientes -->
    <div class="container">
        <div class="welcome-card">
            <h1>ğŸ“‹ Listar Pacientes</h1>
            <p>Visualize todos os pacientes cadastrados no sistema</p>
            
            <div class="table-container">
                <table class="data-table">
                    <thead class="table-header">
                        <tr>
                            <th class="table-header-cell">ID</th>
                            <th class="table-header-cell">Nome</th>
                            <th class="table-header-cell">Altura</th>
                            <th class="table-header-cell">Peso</th>
                            <th class="table-header-cell">AÃ§Ãµes</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% if patients %}
                            {% for patient in patients %}
                            <tr class="table-row">
                                <td class="table-body-cell">{{ patient.id }}</td>
                                <td class="table-body-cell">{{ patient.name }}</td>
                                <td class="table-body-cell">{{ patient.height }}m</td>
                                <td class="table-body-cell">{{ patient.weight }}kg</td>
                                <td class="table-body-cell">
                                    <!-- Link que aciona funÃ§Ã£o JS para ir Ã  pÃ¡gina de visualizaÃ§Ã£o -->
                                    <a href="#" onclick="goToViewPatient({{ patient.id }}); return false;" class="table-link">Ver</a>
                                </td>
                            </tr>
                            {% endfor %}
                        {% else %}
                            <tr class="table-row">
                                <td colspan="5" style="text-align: center; padding: 2rem; color: #999;">
                                    Nenhum paciente cadastrado
                                </td>
                            </tr>
                        {% endif %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>
</html>

